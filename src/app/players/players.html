<div ng-controller="PlayersCtrl">

	<form class="form-inline" role="form">
		<div class="form-group">
			<label class="sr-only" for="playerName">Player name</label>
			<input type="text" ng-model="playerName" class="form-control" id="playerName" placeholder="Enter player name">
		</div>
		<button type="submit" class="btn btn-primary" ng-click="addPlayer()">Add player</button>
	</form>

	<hr/>

	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th rowspan="2">Name</th>
				<th colspan="5">OVERALL</th>
				<th colspan="2">DEFENDER</th>
				<th colspan="2">ATTACKER</th>
    			<th colspan="2" class="white">WHITE</th>
				<th colspan="2" class="blue">BLUE</th>
			</tr>
			<tr>
				<th>Games</th>
				<th>Win</th>
                <th>Loss</th>
				<th>% of wins</th>
				<th style="width:160px">Rating</th>
                <th>Win</th>
				<th>Loss</th>
				<th>Win</th>
				<th style="width:100px">Loss</th>

				<th>Win</th>
				<th>Loss</th>
				<th>Win</th>
				<th>Loss</th>
			</tr>
		</thead>
		<tr ng-repeat="player in model.players">
			<td>{{player.name}}</td>
			<td>{{stats.players[player._id].games}}</td>
			<td>{{stats.players[player._id].win}}</td>
			<td>{{stats.players[player._id].loss}}</td>
			<td>{{(stats.players[player._id].win / (stats.players[player._id].games + 0.0001) * 100).toFixed(0)}}%</td>
			<td>{{stats.ratings[player._id].mean.toFixed(2)}} Â± {{stats.ratings[player._id].sd.toFixed(2)}}</td>
			<td>{{stats.players[player._id].winA + stats.players[player._id].winD}}</td>
			<td>{{stats.players[player._id].lossA + stats.players[player._id].lossD}}</td>
			<td>{{stats.players[player._id].winB + stats.players[player._id].winC}}</td>
			<td>{{stats.players[player._id].lossB + stats.players[player._id].lossC}}</td>
            <td class="white">{{stats.players[player._id].winA + stats.players[player._id].winB}}</td>
			<td class="white">{{stats.players[player._id].lossA + stats.players[player._id].lossB}}</td>
			<td class="blue">{{stats.players[player._id].winC + stats.players[player._id].winD}}</td>
			<td class="blue">{{stats.players[player._id].lossC + stats.players[player._id].lossD}}</td>
		</tr>
	</table>

</div>